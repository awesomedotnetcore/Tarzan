<template>
    <div>
        <h1>Flow Table</h1>
        <b-container fluid>
            <b-row align-v="center">
                <b-col  cols="8">
                    <b-input-group style="vertical-align:central" prepend="Filter">
                        <b-form-input></b-form-input>
                        <b-input-group-append>
                            <b-btn>Apply</b-btn>
                            <b-btn>Cancel</b-btn>
                        </b-input-group-append>
                    </b-input-group>
                </b-col>

                <b-col>
                    <b-pagination style="vertical-align:central" :total-rows="totalFlows" v-model="currentPage" :per-page="perPage" v-on:change="reload" />
                </b-col>
            </b-row>
        </b-container>

        <table v-if="dataSource.length" class="table">
            <thead>
                <tr>
                    <th>Id</th>
                    <th>Protocol</th>
                    <th>Source</th>
                    <th>Destination</th>
                    <th>First</th>
                    <th>Last</th>
                    <th>Packets</th>
                    <th>Octets</th>
                </tr>
            </thead>
            <tbody>
                <tr v-for="flow in dataSource">
                    <td> {{flow.id}}        </td>
                    <td> {{flow.protocol}}      </td>
                    <td> {{flow.sourceAddress}} : {{flow.sourcePort}} </td>
                    <td> {{flow.destinationAddress}} : {{flow.destinationPort}} </td>
                    <td> {{flow.firstSeen}}  </td>
                    <td> {{flow.lastSeen}}      </td>
                    <td> {{flow.packets}}  </td>
                    <td> {{flow.octets}}      </td>
                </tr>
            </tbody>
        </table>
        <p v-else><em>Loading...</em></p>
    </div>
</template>

<script src="./flows.ts"></script>
